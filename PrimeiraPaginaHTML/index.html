<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Document</title>
    </head>
    <body>
        <div class="container fonteGeral" style="height: 45px;">
            <div class="topoTela">
                <div class="item color-blue">
                    globo.com
                </div>
                <div class="item color-brown">
                    g1
                </div>
                <div class="item color-gren">
                    ge
                </div>
                <div class="item color-orange">
                    gshow
                </div>
                <div class="item color-red">
                    globoplay
                </div>
                <div class="item color-brown">
                    cartola
                </div>
                <div class="item color-black">
                    sportv
                </div>
            </div>
            <div class="container6" style="width: 40%; margin-left: auto;">
                <div class="item" style= "margin-left: auto;">
                    Assine JÁ
                </div>
                <div class="item">
                    Conta Glogo
                </div>
            </div>
        </div>
        <div class="container2 color-white">
            <div class=" item2 contaner3 fonte2">
                <div class="menu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                      </svg>
                      <div class="menu2">MENU</div>
                </div> 
                <div class="margin-escudo" style="margin-left: 16px; margin-right: 16px;">ge</div>
                <div class="container-shield">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-shield" viewBox="0 0 16 16">
                        <path d="M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"/>
                    </svg>
                    <div class="container-mosaico-times">
                        <div class="mosaico" style="width: 100%;">
                            <div>Time 1</div>
                            <div>Time 2</div>
                            <div>Time 3</div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="width: 70%;" class="fonte">
                BRASILEIRÃO SÉRIE A
            </div>
            <div class="barra-buscar">
                <form class="buscar">
                    <label for="buscar">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                        </svg>
                    </label>
                        <input placeholder="Buscar" type="search" name="buscar" id="busca">
                </form>
            </div>
        </div>
        <div class="container4 color-white fonte2">
            <div class="navigacao_tabs">classificado</div>
            <div class="navigacao_tabs">simulador</div>
            <div class="navigacao_tabs">Vídeos</div>
            <div class="navigacao_tabs">seja pro</div>
            <div class="navigacao_tabs">VAR</div>
        </div>
        <br>
        <br>
        <div class="tabela">
            <div style="width: 60%;" class="tabela1">
                <h1 class="fonte-titulo-tabela">TABELA</h1>
                <table style="width: 100%;" id="tabela">
                    <thead style="font-size: 12px;">
                        <th></th>
                        <th>CLASSIFICAÇÃO</th>
                        <th>P</th>
                        <th>J</th>
                        <th>V</th>
                        <th>E</th>
                        <th>D</th>
                        <th>GP</th>
                        <th>GC</th>
                        <th>SG</th>
                        <th>%</th>
                        <th>ÚLT.JOGOS</th>
                    </thead>
                    <tbody id="tbody">
                    
                    </tbody>
                </table>
            </div>
            <div style="width: 3%;"></div>
            <div style="width: 2%;" class="borda-divisao"></div>
            <div style="width: 5%;"></div>
            <div class="tabela2" id="jogos">
                <h1 class="fonte-titulo-tabela" style="width: 100%;">JOGOS</h1>
                <div class="teans3">
                    <div></div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="115" height="16" fill="currentColor" class="bi bi-caret-left-fill" viewBox="0 0 16 16">
                            <path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
                        </svg>
                    <div id="rodadas"></div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="115" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
                        <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                    </svg>
                </div>
                <br>
                <div>   
                    <div id="jogos">

                    </div>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script>
            window.onload = function(){  //funÃ§Ã£o anÃ´nima pois nÃ£o tem nome e vai ser atribuida Ã¡ uma vÃ¡riavel
                $.ajax({   //Jquery se inicia com $
                    url: "https://api.api-futebol.com.br/v1/campeonatos/10/tabela",
                    headers: {"Authorization": "Bearer live_0fc9ed3ef7e2be7c4bef0cfdcff369"},
                    type: "GET",
                    success: function(data){
                        var teste = data;

                        addTime(data);
                    },
                    error: function(error){
                        alert("Deu erro na requisiÃ§Ã£o: "+ error.toString());
                    }
                })
                
                $.ajax({
                    url: "https://api.api-futebol.com.br/v1/campeonatos/10/rodadas/1",
                    headers: {"Authorization": "Bearer live_0fc9ed3ef7e2be7c4bef0cfdcff369"}, 
                    type: "GET", 
                    success: function(data){
                        addJogos(data)
                    },
                    error: function(){
                        alert("DEU PAUUU" + error.toString());
                    }
                })
            }

        const mapResultadoUltimosJogosWidgets = {
            'v': '<span class="tamanhoPonto" style="color: green;">•</span>',
            'e': '<span class="tamanhoPonto" style="color: gray;">•</span>',
            'd': '<span class="tamanhoPonto"style="color: red;">•</span>'
        };

        function addTime(data) {
            var tabela = document.getElementById("tabela");
            
            for (let posicaoTimes = 0; posicaoTimes < data.length; posicaoTimes++) {
                const time = data[posicaoTimes];

                var ultimosJogosArrayWidgets = [];  
                
                for (let result = 0; result < time.ultimos_jogos.length; result++) {
                    const historicoJogos = time.ultimos_jogos[result];
                        ultimosJogosArrayWidgets.push(mapResultadoUltimosJogosWidgets[historicoJogos])
                }
                    var arrayJogosWidgetFormat = ultimosJogosArrayWidgets.join("")

                var tableAdd = `<tr>
                    <td class="alinhar-numero">${time.posicao}</td>
                    <td class="teans">${time.time.nome_popular}</td>
                    <td style="text-align: center;">${time.pontos}</td>
                    <td style="text-align: center;">${time.jogos}</td>
                    <td style="text-align: center;">${time.vitorias}</td>
                    <td style="text-align: center;">${time.empates}</td>
                    <td style="text-align: center;">${time.derrotas}</td>
                    <td style="text-align: center;">${time.gols_pro}</td>
                    <td style="text-align: center;">${time.gols_contra}</td>
                    <td style="text-align: center;">${time.saldo_gols}</td>
                    <td style="text-align: center;">${time.aproveitamento}</td>
                    <td style="text-align: center;">${arrayJogosWidgetFormat}</td>
                    </tr>`;
                    
                var tbody = document.getElementById("tbody");
                tbody.innerHTML += tableAdd; 
            }
        }

        function addJogos(data){
            var rodada = document.getElementById("rodadas");
            rodada.textContent = data.nome
            var jogos = document.getElementById("jogos");

            for (let partida = 0; partida < data.partidas.length; partida++) {
                const partidaInf = data.partidas[partida];
                var addGame = "<div class='game teans3'>" +
                                    "<div class='place-time'>" +
                                        "<div class='fonteEstadio'>"+ partidaInf.estadio.nome_popular +"</div>" +
                                        "<strong class='fonteDia'>"+partidaInf.data_realizacao+" • "+partidaInf.hora_realizacao + "</strong>" +
                                    "</div>" +
                                    "<div class='in-game'>" +
                                        "<div class='playing-team'>" +
                                            "<div>"+partidaInf. time_mandante.sigla+"</div>" +
                                            "<img src="+partidaInf.time_mandante.escudo+" alt='sao-paulo' height='30' width='30'>" +
                                        "</div>" +
                                        "<div>" +
                                            "<strong>"+ partidaInf.placar_mandante +"</strong>" +
                                            "X"+
                                            "<strong>"+ partidaInf.placar_visitante +"</strong>"+
                                        "</div>" +
                                    "<div class='playing-team' >" +
                                        "<div>"+partidaInf.time_visitante.sigla +"</div>" +
                                        "<img src="+ partidaInf.time_visitante.escudo +" alt='vasco' height='30' width='30'>" +
                                    "</div>" +
                                "</div>"
                        jogos.innerHTML += addGame;
            }
        }
        </script>
    </body>
</html>